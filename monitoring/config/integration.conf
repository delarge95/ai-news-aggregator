# Configuración de integración para AI News Aggregator Monitoring System

# === CONFIGURACIÓN DEL ENTORNO ===
ENVIRONMENT=production
LOG_LEVEL=INFO

# === CONFIGURACIÓN DE PUERTOS ===
# Puertos que deben estar disponibles para el monitoring
REQUIRED_PORTS="9090 3000 9093 9200 5601 3001 8080 9100 9115 9121 9187 9600 5044 8125 8081"

# === CONFIGURACIÓN DE SERVICIOS ===
# Servicios que deben ser monitoreados
MONITORED_SERVICES=(
    "backend:8000"
    "frontend:3000"
    "postgres:5432"
    "redis:6379"
    "prometheus:9090"
    "grafana:3000"
    "alertmanager:9093"
    "elasticsearch:9200"
    "kibana:5601"
    "uptime-kuma:3001"
)

# === CONFIGURACIÓN DE HEALTH CHECKS ===
# Verificar que todos los servicios estén disponibles antes de iniciar monitoring
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_INTERVAL=60

# === CONFIGURACIÓN DE ALERTAS ===
# Canales de notificación habilitados
NOTIFICATION_CHANNELS=("email" "slack" "discord")

# === CONFIGURACIÓN DE LOGGING ===
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE_MB=100

# === CONFIGURACIÓN DE MÉTRICAS ===
# Intervalos de recolección de métricas
SCRAPE_INTERVAL_PROMETHEUS=15s
SCRAPE_INTERVAL_NODE_EXPORTER=15s
SCRAPE_INTERVAL_CADVISOR=15s
SCRAPE_INTERVAL_CUSTOM_SERVICES=30s

# === CONFIGURACIÓN DE RETENCIÓN ===
# Tiempo de retención de datos
PROMETHEUS_RETENTION=30d
ELASTICSEARCH_RETENTION=30d
GRAFANA_RETENTION=1y

# === CONFIGURACIÓN DE BACKUP ===
# Configuración de backups automáticos
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Diariamente a las 2 AM
BACKUP_RETENTION=7  # Mantener 7 backups

# === CONFIGURACIÓN DE SEGURIDAD ===
# Configuración de seguridad
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123
ALERTMANAGER_EXTERNAL_URL=http://localhost:9093

# === CONFIGURACIÓN DE NOTIFICACIONES SMTP ===
SMTP_SERVER=localhost
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
FROM_EMAIL=alerts@ai-news.com
TO_EMAILS=admin@ai-news.com,ops@ai-news.com

# === CONFIGURACIÓN DE SLACK ===
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#alerts
SLACK_USERNAME=AI News Alerts

# === CONFIGURACIÓN DE DISCORD ===
DISCORD_WEBHOOK_URL=
DISCORD_USERNAME=AI News Alerts

# === CONFIGURACIÓN ESPECÍFICA DE AI NEWS ===
# Umbrales específicos del negocio
NEW_ARTICLES_INTERVAL=30m
AI_PIPELINE_ERROR_RATE=0.05
SEARCH_ERROR_RATE=0.1
BACKEND_LATENCY_THRESHOLD=2s
FRONTEND_LATENCY_THRESHOLD=5s

# === CONFIGURACIÓN DE PIPELINES ===
# Configuración específica para AI pipeline
CELERY_QUEUE_THRESHOLD=1000
CELERY_TASK_FAILURE_RATE=0.1
AI_PROCESSING_ERROR_THRESHOLD=0.05

# === CONFIGURACIÓN DE INFRAESTRUCTURA ===
# Umbrales de recursos del sistema
CPU_USAGE_THRESHOLD=80
MEMORY_USAGE_THRESHOLD=90
DISK_USAGE_THRESHOLD=90
CONTAINER_RESTART_THRESHOLD=3

# === CONFIGURACIÓN DE NOTIFICACIONES AUTOMÁTICAS ===
# Configurar cuándo enviar notificaciones
NOTIFICATION_COOLDOWN_MINUTES=5
ESCALATION_INTERVAL_MINUTES=60
MAINTAIN_WINDOW_START="02:00"
MAINTAIN_WINDOW_END="04:00"

# === CONFIGURACIÓN DE AUTO-ESCALATION ===
AUTO_ESCALATION_ENABLED=true
ESCALATION_LEVELS=(
    "critical:immediate"
    "warning:15m"
    "info:60m"
)

# === CONFIGURACIÓN DE DASHBOARDS ===
# Configuración de dashboards de Grafana
DASHBOARD_REFRESH_INTERVAL=30s
DASHBOARD_TIME_RANGE=1h

# === CONFIGURACIÓN DE ELK STACK ===
# Configuración específica del stack de logging
LOGSTASH_WORKERS=2
LOGSTASH_BATCH_SIZE=1000
ELASTICSEARCH_SHARDS=1
ELASTICSEARCH_REPLICAS=1

# === CONFIGURACIÓN DE UPTIME KUMA ===
# Configuración de Uptime Kuma
UPTIME_KUMA_INTERVAL=60s
UPTIME_KUMA_TIMEOUT=10s
UPTIME_KUMA_RETRIES=3

# === CONFIGURACIÓN DE BLACKBOX EXPORTER ===
# Configuración de monitoreo blackbox
BLACKBOX_HTTP_TIMEOUT=10s
BLACKBOX_TCP_TIMEOUT=5s
BLACKBOX_PROBE_INTERVAL=30s